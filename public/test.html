<html>
<head>
<title>A very simple jQuery SPA</title>
<script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
</head>
<body>

<button onclick="fetchStudent('students')">Students</button>
<button onclick="fetchSection('sections')">Sections</button>

<table id='list'>
</table>


<script>
var fetchStudent = function(which) {
    $('#list').empty();
    $('#list').append("<tr><th>Name</th><th>StudentId</th></tr>")
    
    $.get("http://localhost:3000/" + which + ".json", true)
    .done(function(json) {
        for (item in json) {
            lis = "<tr><td style='text-align: center'>";
            lis += json[item].name + "</td> ";
            lis += "<td style='text-align: center'>" + json[item].student_id;
            lis += "</td><tr>";
            $("#list").append(lis);
        }
    })
    .fail(function(json){ console.log("fail"); })
};

var fetchSection = function(which) {
    $('#tableheader').append("<tr><td>Semester</td><td>Number</td><td>Room Number</td><td>Course ID</td></tr>")
    $("#list").empty();
    $.get("http://localhost:3000/" + which + ".json", true)
    .done(function(json) {
        for (item in json) {
            lis = "<tr><td>";
            lis += json[item].semester;
            lis += json[item].number;
            lis += json[item].room_number;
            lis += json[item].course_id;
            lis += "</td><tr>";
            $("#list").append(lis);
        }
    })
    .fail(function(json){ console.log("fail"); })
};
</script>

</body>
</html>