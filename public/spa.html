<html>
<head>
<title>Assignment5</title>
<script
    src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
    crossorigin="anonymous"></script>
</head>
<body>

<button onclick="fetchStudent('students')">Students</button>
<button onclick="fetchSection('sections')">Sections</button>
<button onclick="fetchCourse('courses')">Courses</button>

<table id='list'>
</table>

<script>

var fetchStudent = function(which) {
    $('#list').empty();
    $('#list').append("<tr><th>Name</th><th>StudentId</th></tr>")
    
    $.get("http://localhost:3000/" + which + ".json", true)
    .done(function(json) {
        for (item in json) {
            lis = "<tr><td style='text-align: center'>";
            lis += json[item].name + "</td> ";
            lis += "<td style='text-align: center'>" + json[item].student_id;
            lis += "</td><tr>";
            $("#list").append(lis);
        }
    })
    .fail(function(json){ console.log("fail"); })
};

var fetchSection = function(which) {
    $("#list").empty();
    $('#list').append("<tr><th>Semester</th><th>Number</th><th>Room Number</th><th>Course ID</th></tr>")
    
    $.get("http://localhost:3000/" + which + ".json", true)
    .done(function(json) {
        for (item in json) {
            lis = "<tr><td style='text-align: center'>";
            lis += json[item].semester;
            lis += "<td style='text-align: center'>" + json[item].number;
            lis += "<td style='text-align: center'>" + json[item].room_number;
            lis += "<td style='text-align: center'>" + json[item].course_id;
            lis += "</td><tr>";
            $("#list").append(lis);
        }
    })
    .fail(function(json){ console.log("fail"); })
};

var fetchCourse = function(which) {
    $("#list").empty();
    $('#list').append("<tr><th>Name</th><th>Department</th><th>Number</th><th>Credit Hours</th></tr>")
    
    $.get("http://localhost:3000/" + which + ".json", true)
    .done(function(json) {
        for (item in json) {
            lis = "<tr><td style='text-align: center'>";
            lis += json[item].name;
            lis += "<td style='text-align: center'>" + json[item].department;
            lis += "<td style='text-align: center'>" + json[item].number;
            lis += "<td style='text-align: center'>" + json[item].credit_hours;
            lis += "</td><tr>";
            $("#list").append(lis);
        }
    })
    .fail(function(json){ console.log("fail"); })
};
</script>

</body>
</html>